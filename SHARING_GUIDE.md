# Руководство по совместному доступу

## Как отправить список другому пользователю:

1. **Убедитесь, что получатель добавлен в участники**
   - Откройте Настройки
   - В разделе "Совместный доступ" добавьте участника
   - **ВАЖНО**: В поле "ID пользователя" нужно ввести **Firebase User ID** получателя
   - Firebase User ID можно получить в настройках приложения получателя (поле "Ваш ID пользователя")

2. **Отправка списка**
   - Откройте список продуктов
   - Нажмите иконку "Share" (поделиться) в правом верхнем углу
   - Выберите участника из списка
   - Список будет отправлен в Firebase

3. **Получение списка**
   - Получатель должен быть авторизован в Firebase
   - Списки автоматически синхронизируются в реальном времени
   - Новые списки появятся на главном экране автоматически

## Важно!

- **Participant ID должен быть Firebase User ID**, а не просто имя или локальный ID
- Firebase User ID - это длинная строка вида: `abc123def456...`
- Получить Firebase User ID можно в настройках приложения (поле "Ваш ID пользователя")
- Оба пользователя должны быть авторизованы в Firebase
- Оба устройства должны иметь доступ к интернету

## Проверка в Firebase Console:

1. Откройте Firebase Console → Realtime Database
2. Проверьте структуру:
   ```
   shared_lists/
     {user_id_получателя}/
       {list_id}/
         listId: string
         listName: string
         items: array
         fromUserId: string (ID отправителя)
         timestamp: timestamp
   ```

## Отладка:

- Откройте Logcat в Android Studio
- Фильтр: `FirebaseService` или `MainActivity`
- Вы увидите логи:
  - "Отправка списка: listId=..., participantId=..."
  - "Список успешно отправлен"
  - "Получено X shared lists"
  - "Добавляем новый список: ..."

