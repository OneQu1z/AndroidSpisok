# Правила безопасности Firebase Realtime Database

## Проблема: "permission denied"

Если вы получаете ошибку "permission denied", нужно обновить правила безопасности в Firebase Console.

## Как исправить:

1. **Откройте Firebase Console**
   - https://console.firebase.google.com/
   - Выберите проект "androidspisok"

2. **Перейдите в Realtime Database**
   - В левом меню: "Realtime Database"
   - Вкладка "Rules" (Правила)

3. **Замените правила на следующие:**

```json
{
  "rules": {
    "users": {
      "$userId": {
        ".read": "$userId === auth.uid",
        ".write": "$userId === auth.uid"
      }
    },
    "shared_lists": {
      "$userId": {
        ".read": "$userId === auth.uid",
        ".write": "auth != null"
      }
    },
    "lists": {
      "$listId": {
        ".read": "auth != null",
        ".write": "auth != null"
      }
    }
  }
}
```

4. **Нажмите "Publish" (Опубликовать)**

## Объяснение правил:

- **users**: Пользователь может читать/писать только свои данные
- **shared_lists**: 
  - Пользователь может читать только свои полученные списки
  - Любой авторизованный пользователь может писать (отправлять списки)
- **lists**: Любой авторизованный пользователь может читать/писать

## Для разработки (временно, небезопасно):

Если нужно быстро протестировать, можно использовать временные правила (только для разработки!):

```json
{
  "rules": {
    ".read": "auth != null",
    ".write": "auth != null"
  }
}
```

**ВНИМАНИЕ**: Эти правила разрешают всем авторизованным пользователям читать и писать все данные. Используйте только для тестирования!

